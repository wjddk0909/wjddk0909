--- 
title: "Execution Context 실행 콘텍스트" 
excerpt: "실행콘텍스트, 렉시컬 환경 컴포넌트, 환경레코드, this 바인딩 컴포넌트, 파라미터 매핑"
categories: 
    - js-advanced
tags: 
    - context
toc: true
--- 
## 4.1 실행 콘텍스트, 실행 콘텍스트 상태 컴포넌트

Execution Context  
- 함수가 실행되는 영역, 묶음
- 함수 코드를 실행하고 실행 결과를 저장

```javascript
function music(title) {
  var musicTitle = title;
};
music('음악');
```

- music('음악')으로 함수를 호출하면 엔진은 실행콘텍스트를 생성
- 실행 콘텍스트 안으로 이동
- 실행 콘텍스트 실행 단계: 준비 단계, 초기화 단계, 코드 실행 단계

- 실행 콘텍스트 생성 시점: 실행 가능한 코드를 만났을 때
- 실행 가능한 코드 유형: 함수 코드, 글로벌 코드, eval 코드
- 코드 유형을 분리한 이유
  - 실행 콘텍스트에서 처리방법과 실행 환경이 다르기 때문
  - 함수 코드: 렉시컬 환경(정적 환경)
  - 글로벌 코드: 글로벌 환경
  - eval 코드: 동적 환경

실행 콘텍스트 상태 컴포넌트  
- 상태 컴포넌트 유형
  - 렉시컬 환경 컴포넌트(LEC): Lexical Environment Component
  - 변수 환경 컴포넌트(VEC): Variable Environment Component
  - this 바인딩 컴포넌트(TBC): This Binding Component

## 4.2 렉시컬 환경 컴포넌트, 렉시컬 환경 컴포넌트 구성/설정, 외부 렉시컬 환경 참조, 변수 환경 컴포넌트

렉시컬 환경 컴포넌트  
- 함수와 변수의 식별자 해결을 위한 환경 설정
- 함수 초기화 단계에서 해석한 함수와 변수를 `{name: value}` 형태로 저장
- 이름으로 함수와 변수를 검색할 수 있게 됨
- 함수 밖의 함수와 변수 참조 환경 설정 > 함수 밖의 함수와 변수를 사용할 수 있게 됨

렉시컬 환경 컴포넌트 구성
- 렉시컬 환경 컴포넌트 생성
  - function, with, try-catch에서 생성

- 컴포넌트 구성
  - 환경 레코드 ER: Environment Record
  - 외부 렉시컬 환경 참조 OLER: Outer Lexical Environment Reference

렉시컬 환경 컴포넌트 설정
- 환경 레코드에 함수안의 함수와 변수를 기록
- 외부 첵시컬 환경 참조에 function 오브젝트의 `[[Scope]]`를 설정
- 따라서 함수 안과 밖의 함수와 변수를 사용할 수 있게 됨

```javascript
실행 콘텍스트(EC): {
  렉시컬 환경 컴포넌트(LEC): {
    환경 레코드(ER): {
      point: 100
    },
    외부 렉시컬 환경 참조(OLER): {
      title: '책',
      getTitle: function(){}
    }
  }
}
```

외부 렉시컬 환경 참조
- 스코프와 실행중인 함수가 Context 형태이므로 스코프의 변수와 함수를 별도의 처리 없이 즉시 사용할 수 있음
- 실행 콘텍스트에서 함수안과 밖의 함수, 변수를 사용할 수 있으므로 함수와 변수를 찾기 위해 실행 콘텍스트를 벗어 나지 않아도 된다. (실행 콘텍스트가 메모리에 올라가 있는데 밖으로 나가서 다른데서 끌고 오지 않아도 된다.)

변수 환경 컴포넌트
- 실행 콘텍스트 초기화 단계에서 렉시컬 환경 컴포넌트와 같게 설정
- 이렇게 하는 이유는? 초기값을 복원할 때 사용하기 위한 것
- 함수 코드가 실행되면 실행 결과를 렉시컬 환경 컴포넌트에 설정
- 초기값이 변하게 되므로 이를 유지하기 위함
- with문에서 사용한다.

## 4.3 실행 콘텍스트 실행 과정

## 4.4 환경 레코드, 환경 레코드 구성, 글로벌 환경

## 4.5 this 바인딩 컴포넌트

## 4.6 호출 스택(call stack)

## 4.7 파라미터 매핑, 함수 호출, 파라미터 값 매핑, 파라미터 이름에 값 매핑 방법

## 4.8 파라미터 값 할당 기준


